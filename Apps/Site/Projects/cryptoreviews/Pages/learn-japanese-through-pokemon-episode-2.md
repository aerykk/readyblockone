# Learn Japanese Through Pokemon – Episode 2

## Content

<div class="post-1419 post type-post status-publish format-standard hentry category-languages category-pokemon category-programming row-fluid blog-post" id="post-1419">
    <div class="nav span2">
        <ul class="well nav-list">
            <li class="author">
                <i class="icon-user icon-black"></i> By: <a href="/author/eric/" title="Posts by Eric Muyser" rel="author" address="true">Eric Muyser</a> </li>
            <li class="published">
                <i class="icon-time icon-black"></i> On: <strong>May 4, 2014</strong>
            </li>
            <li class="categories">
                <i class="icon-book icon-black"></i> In: <a href="/category/languages/" title="View all posts in Languages" rel="category tag" address="true">Languages</a>, <a href="/category/pokemon/" title="View all posts in Pokemon" rel="category tag" address="true">Pokemon</a>, <a href="/category/programming/" title="View all posts in Programming" rel="category tag" address="true">Programming</a> </li>
            <li class="comments">
                <i class="icon-comment icon-black"></i> With <a href="/learn-japanese-through-pokemon-episode-2/#respond" title="Comment on Learn Japanese Through Pokemon – Episode 2" address="true">no comments</a> </li>
            <li class="tags">
                <i class="icon-tags icon-black"></i> </li>
        </ul>
    </div>
    <div class="post-thumb">
        <a title="Permanent Link to Learn Japanese Through Pokemon – Episode 2" href="/learn-japanese-through-pokemon-episode-2/" address="true"></a>
    </div>
    <div class="span9 content">
        <p><span id="more-1419"></span>
        </p>
        <h3>Learn Japanese Through Pokemon: Hacking audio into Memrise</h3>
        <ul>
            <li><a href="/learn-japanese-through-pokemon-episode-1/" address="true">Episode 1: Kicking off the series</a>
            </li>
            <li>Episode 2: Hacking audio into Memrise</li>
        </ul>
        <p>&nbsp;</p>
        <p>Welcome to another episode in this series. So let’s get started!</p>
        <p>I was up studying late last night and quickly realized one of the major problems with this technique is I get no auditory&nbsp;memorization or help with pronunciation.</p>
        <p>&nbsp;</p>
        <p>My first thought was to use the <a href="http://imtranslator.net/translate-and-speak/speak/japanese/" target="_blank">ImTranslator service</a>. Which has very good pronunciation. Better than that of Google Translate. My second thought was the site was too cumbersome to use, and that there should be a good API out there. Unfortunately, most people seem to be the Google version. “No problem!” I thought, “I can find a way to inject ImTranslator’s audio into Memrise!” An hour later, I can click on any row of my Japanese definitions in Memrise to play the associated audio. Here’s how it goes:</p>
        <p>&nbsp;</p>
        <p>1) Find a way to get the audio file from ImTranslator.</p>
        <p>2) Find a way to inject that audio when I click on some Japanese using JavaScript.</p>
        <p>3) Find a way to have this JavaScript always work when I go to Memrise.</p>
        <p>&nbsp;</p>
        <p>I know I can do the last two with the Spidermonkey extension for Google Chrome, but the first one presents a challenge. Here’s how I tackled that.</p>
        <p>&nbsp;</p>
        <p>Get the cURL command for the translation out of DevTools:</p>
        <p><img class="alignnone" title="devtools" src="http://dl.dropbox.com/u/58484258/Screenshots/y6ah.png" alt="" width="1152" height="458">
        </p>
        <p>&nbsp;</p>
        <p>Which looked something like this:</p>
        <p><img class="alignnone" title="curl" src="http://dl.dropbox.com/u/58484258/Screenshots/2m~~.png" alt="" width="1000" height="161">
        </p>
        <p>&nbsp;</p>
        <p>Realize that it’s not simply returning a consumable URL, such as an MP3 file, for the audio, but the entire page HTML. Additionally, it seems to have generated a SWF for the audio on the server side. Okay, that throws a bone into the mix. I know &nbsp;that means I need to parse out the &lt;embed&gt; URL. I know doing that with Spidermonkey is still going to cause some cross-domain policy issues, and I’d prefer not to burden myself with operating within the cage of a browser extension. Instead, I can just create a Node.js script to do all the heavy lifting. That’s it.</p>
        <p>&nbsp;</p>
        <p>Create a folder. Create a file “server.js”. In that file, I came up with this (<a href="https://gist.github.com/ericmuyser/f3a36f8158310d9066a9" target="_blank">download the Gist here</a>):</p>
        <pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><p></p></li><li class="L1"><p><span class="kwd">var</span><span class="pln"> connect </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'connect'</span><span class="pun">);</span></p></li><li class="L2"><p></p></li><li class="L3"><p><span class="kwd">var</span><span class="pln"> http </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'http'</span><span class="pun">);</span></p></li><li class="L4"><p></p></li><li class="L5"><p><span class="kwd">var</span><span class="pln"> </span><span class="kwd">exec</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'child_process'</span><span class="pun">).</span><span class="kwd">exec</span><span class="pun">;</span></p></li><li class="L6"><p></p></li><li class="L7"><p><span class="kwd">var</span><span class="pln"> url </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'url'</span><span class="pun">);</span></p></li><li class="L8"><p><span class="kwd">var</span><span class="pln"> app </span><span class="pun">=</span><span class="pln"> connect</span><span class="pun">()</span></p></li><li class="L9"><p></p></li><li class="L0"><p><span class="pun">.</span><span class="kwd">use</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">req</span><span class="pun">,</span><span class="pln"> res</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></p></li><li class="L1"><p></p></li><li class="L2"><p><span class="kwd">var</span><span class="pln"> queryData </span><span class="pun">=</span><span class="pln"> url</span><span class="pun">.</span><span class="pln">parse</span><span class="pun">(</span><span class="pln">req</span><span class="pun">.</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">).</span><span class="pln">query</span><span class="pun">;</span></p></li><li class="L3"><p><span class="kwd">var</span><span class="pln"> callback </span><span class="pun">=</span><span class="pln"> queryData</span><span class="pun">.</span><span class="pln">callback</span><span class="pun">;</span></p></li><li class="L4"><p></p></li><li class="L5"><p><span class="kwd">var</span><span class="pln"> text </span><span class="pun">=</span><span class="pln"> queryData</span><span class="pun">.</span><span class="pln">text</span><span class="pun">;</span></p></li><li class="L6"><p></p></li><li class="L7"><p><span class="kwd">var</span><span class="pln"> lang </span><span class="pun">=</span><span class="pln"> queryData</span><span class="pun">.</span><span class="pln">lang</span><span class="pun">;</span></p></li><li class="L8"><p></p></li><li class="L9"><p><span class="kwd">var</span><span class="pln"> cmd</span><span class="pun">;</span></p></li><li class="L0"><p><span class="kwd">if</span><span class="pun">(</span><span class="pln">lang </span><span class="pun">===</span><span class="pln"> </span><span class="str">'jp'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></p></li><li class="L1"><p></p></li><li class="L2"><p><span class="pln">cmd </span><span class="pun">=</span><span class="pln"> </span><span class="str">"curl 'http://imtranslator.net/translate-and-speak/sockets/tts.asp?FA=1&amp;dir=ja&amp;speed=0&amp;B=1&amp;ID=719936066&amp;chr=MiaHead&amp;vc=VW%20Misaki' -H 'Pragma: no-cache' -H 'Origin: http://imtranslator.net' -H 'Accept-Encoding: gzip,deflate,sdch' -H 'Accept-Language: en-US,en;q=0.8' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/34.0.1847.131 Safari/537.36' -H 'Content-Type: application/x-www-form-urlencoded' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8' -H 'Cache-Control: no-cache' -H 'Referer: http://imtranslator.net/translate-and-speak/sockets/tts.asp?FA=1&amp;dir=ja&amp;speed=0&amp;B=1&amp;ID=719936066&amp;chr=MiaHead&amp;vc=VW%20Misaki' -H 'Cookie: ASPSESSIONIDAQCTDACT=OJEAJOKCCPBDOLCAELKBMBPD; TTSid=719936066; __utma=87094784.1264872206.1399156538.1399156538.1399156538.1; __utmb=87094784.3.10.1399156538; __utmc=87094784; __utmz=87094784.1399156538.1.1.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=(not%20provided)' -H 'Connection: keep-alive' --data 'text="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> text </span><span class="pun">+</span><span class="pln"> </span><span class="str">"&amp;chr=MiaHead&amp;speed=0&amp;voice=&amp;dir=ja&amp;B=1' --compressed"</span><span class="pun">;</span></p></li><li class="L3"><p><span class="pun">}</span></p></li><li class="L4"><p></p></li><li class="L5"><p><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">lang </span><span class="pun">===</span><span class="pln"> </span><span class="str">'en'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></p></li><li class="L6"><p></p></li><li class="L7"><p><span class="pln">text </span><span class="pun">=</span><span class="pln"> escape</span><span class="pun">(</span><span class="pln">queryData</span><span class="pun">.</span><span class="pln">text</span><span class="pun">).</span><span class="pln">replace</span><span class="pun">(</span><span class="str">/%20/</span><span class="pln">gi</span><span class="pun">,</span><span class="pln"> </span><span class="str">'+'</span><span class="pun">);</span></p></li><li class="L8"><p><span class="pln">cmd </span><span class="pun">=</span><span class="pln"> </span><span class="str">"curl 'http://imtranslator.net/translate-and-speak/sockets/tts.asp?FA=1&amp;dir=enf&amp;speed=0&amp;B=1&amp;ID=719936066&amp;chr=AnnaHead&amp;vc=VW%20Kate' -H 'Pragma: no-cache' -H 'Origin: http://imtranslator.net' -H 'Accept-Encoding: gzip,deflate,sdch' -H 'Accept-Language: en-US,en;q=0.8' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/34.0.1847.131 Safari/537.36' -H 'Content-Type: application/x-www-form-urlencoded' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8' -H 'Cache-Control: no-cache' -H 'Referer: http://imtranslator.net/translate-and-speak/sockets/tts.asp?FA=1&amp;dir=enf&amp;speed=0&amp;B=1&amp;ID=719936066&amp;chr=AnnaHead&amp;vc=VW%20Kate' -H 'Cookie: ASPSESSIONIDAQCTDACT=OJEAJOKCCPBDOLCAELKBMBPD; TTSid=719936066; ASPSESSIONIDASRCABCT=EIPIJFNCMMMBGHGEDBDKMAMI; __utma=87094784.1264872206.1399156538.1399156538.1399176286.2; __utmb=87094784.14.10.1399176286; __utmc=87094784; __utmz=87094784.1399156538.1.1.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=(not%20provided)' -H 'Connection: keep-alive' --data 'text="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> text </span><span class="pun">+</span><span class="pln"> </span><span class="str">"&amp;chr=AnnaHead&amp;speed=0&amp;voice=&amp;dir=enf&amp;B=1' --compressed"</span><span class="pun">;</span></p></li><li class="L9"><p></p></li><li class="L0"><p><span class="pun">}</span></p></li><li class="L1"><p><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">cmd</span><span class="pun">);</span></p></li><li class="L2"><p><span class="kwd">exec</span><span class="pun">(</span><span class="pln">cmd</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">error</span><span class="pun">,</span><span class="pln"> stdout</span><span class="pun">,</span><span class="pln"> stderr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></p></li><li class="L3"><p></p></li><li class="L4"><p><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">error </span><span class="pun">!==</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></p></li><li class="L5"><p></p></li><li class="L6"><p><span class="pln">console</span><span class="pun">.</span><span class="pln">error</span><span class="pun">(</span><span class="str">'exec error: '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> error</span><span class="pun">);</span></p></li><li class="L7"><p></p></li><li class="L8"><p><span class="pun">}</span></p></li><li class="L9"><p><span class="kwd">var</span><span class="pln"> regex </span><span class="pun">=</span><span class="pln"> </span><span class="str">/PARAM ID="MOVIE" NAME="MOVIE" VALUE="([^\"]+)"/</span><span class="pln">gi</span><span class="pun">;</span></p></li><li class="L0"><p><span class="kwd">var</span><span class="pln"> ttsURL </span><span class="pun">=</span><span class="pln"> regex</span><span class="pun">.</span><span class="kwd">exec</span><span class="pun">(</span><span class="pln">stdout</span><span class="pun">)[</span><span class="lit">1</span><span class="pun">];</span></p></li><li class="L1"><p><span class="kwd">var</span><span class="pln"> response </span><span class="pun">=</span><span class="pln"> callback </span><span class="pun">+</span><span class="pln"> </span><span class="str">'("'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> ttsURL </span><span class="pun">+</span><span class="pln"> </span><span class="str">'")'</span><span class="pun">;</span></p></li><li class="L2"><p><span class="pln">res</span><span class="pun">.</span><span class="kwd">end</span><span class="pun">(</span><span class="pln">response</span><span class="pun">);</span></p></li><li class="L3"><p></p></li><li class="L4"><p><span class="pun">});</span></p></li><li class="L5"><p></p></li><li class="L6"><p><span class="pun">});</span></p></li><li class="L7"><p><span class="pln">http</span><span class="pun">.</span><span class="pln">createServer</span><span class="pun">(</span><span class="pln">app</span><span class="pun">).</span><span class="pln">listen</span><span class="pun">(</span><span class="lit">3001</span><span class="pun">);</span></p></li><li class="L8"><p></p></li></ol></pre>
        <p>&nbsp;</p>
        <p>Additionally, I threw in the English condition for the girlfriend, who plays with me sometimes.</p>
        <p>&nbsp;</p>
        <p>In order to run this script, I’m using Node.js&nbsp;v0.10.1 (but you can probably get away with 0.8.19). I also ran these commands in the same folder:</p>
        <div class="well">
            <p></p>
            <p>npm install connect</p>
            <p>npm install http</p>
            <p>npm install url</p>
            <p></p>
        </div>
        <p>&nbsp;</p>
        <p>My directory looks like this:</p>
        <p><img class="alignnone" title="term" src="http://dl.dropbox.com/u/58484258/Screenshots/6ii4.png" alt="" width="396" height="74">
        </p>
        <p>&nbsp;</p>
        <p>Now I needed to create the Spidermonkey script. That took a little work, because Memrise loads the lesson via AJAX. So, I was lazy and decided to just capture the click event on the TD elements. Here’s a good spot, right on the ‘Move item’ icon. Additionally, I do it for the first 2 columns, and assume the first column is Japanese, and the second column is English.</p>
        <p><img class="alignnone" title="term" src="http://dl.dropboxusercontent.com/u/58484258/Screenshots/t2ui.png" alt="" width="1062" height="670">
        </p>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <p>Here’s the code for that extension (<a href="https://gist.github.com/ericmuyser/065c855b4e3f6e1d7de0" target="_blank">download the Gist here</a>):</p>
        <pre class="prettyprint linenums"><ol class="linenums"><li class="L0"><p></p></li><li class="L1"><p><span class="com">// ==UserScript==</span></p></li><li class="L2"><p></p></li><li class="L3"><p><span class="com">// @name Japanese Text-To-Speech</span></p></li><li class="L4"><p></p></li><li class="L5"><p><span class="com">// @namespace http://use.i.E.your.homepage/</span></p></li><li class="L6"><p></p></li><li class="L7"><p><span class="com">// @version 0.1</span></p></li><li class="L8"><p></p></li><li class="L9"><p><span class="com">// @description enter something useful</span></p></li><li class="L0"><p></p></li><li class="L1"><p><span class="com">// @match http://www.memrise.com/course/*/*/edit/</span></p></li><li class="L2"><p></p></li><li class="L3"><p><span class="com">// @copyright 2012+, You</span></p></li><li class="L4"><p></p></li><li class="L5"><p><span class="com">// ==/UserScript==</span></p></li><li class="L6"><p><span class="pln">unsafeWindow</span><span class="pun">.</span><span class="pln">injectTTS </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">ttsURL</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></p></li><li class="L7"><p></p></li><li class="L8"><p><span class="kwd">var</span><span class="pln"> $object </span><span class="pun">=</span><span class="pln"> $</span><span class="pun">(</span><span class="str">'&lt;OBJECT \</span></p></li><li class="L9"><p></p></li><li class="L0"><p><span class="str">type="application/x-shockwave-flash"\</span></p></li><li class="L1"><p></p></li><li class="L2"><p><span class="str">CLASSID="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"\</span></p></li><li class="L3"><p></p></li><li class="L4"><p><span class="str">type="application/x-shockwave-flash"\</span></p></li><li class="L5"><p></p></li><li class="L6"><p><span class="str">WIDTH="113"\</span></p></li><li class="L7"><p></p></li><li class="L8"><p><span class="str">HEIGHT="100"\</span></p></li><li class="L9"><p></p></li><li class="L0"><p><span class="str">CODEBASE="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8"\</span></p></li><li class="L1"><p></p></li><li class="L2"><p><span class="str">ID=flash1&gt;\</span></p></li><li class="L3"><p></p></li><li class="L4"><p><span class="str">&lt;PARAM ID="MOVIE" NAME="MOVIE" VALUE="'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> ttsURL </span><span class="pun">+</span><span class="pln"> </span><span class="str">'"&gt;\</span></p></li><li class="L5"><p></p></li><li class="L6"><p><span class="str">&lt;PARAM NAME="PLAY" VALUE="true"&gt;\</span></p></li><li class="L7"><p></p></li><li class="L8"><p><span class="str">&lt;PARAM NAME="LOOP" VALUE="false"&gt;\</span></p></li><li class="L9"><p></p></li><li class="L0"><p><span class="str">&lt;PARAM NAME="QUALITY" VALUE="high"&gt;\</span></p></li><li class="L1"><p></p></li><li class="L2"><p><span class="str">&lt;PARAM NAME="SCALE" VALUE="SHOWALL"&gt;\</span></p></li><li class="L3"><p></p></li><li class="L4"><p><span class="str">\</span></p></li><li class="L5"><p></p></li><li class="L6"><p><span class="str">&lt;EMBED\</span></p></li><li class="L7"><p></p></li><li class="L8"><p><span class="str">type="application/x-shockwave-flash"\</span></p></li><li class="L9"><p></p></li><li class="L0"><p><span class="str">NAME="flash1"\</span></p></li><li class="L1"><p></p></li><li class="L2"><p><span class="str">ID="flash1"\</span></p></li><li class="L3"><p></p></li><li class="L4"><p><span class="str">SRC="'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> ttsURL </span><span class="pun">+</span><span class="pln"> </span><span class="str">'"\</span></p></li><li class="L5"><p></p></li><li class="L6"><p><span class="str">WIDTH="113"\</span></p></li><li class="L7"><p></p></li><li class="L8"><p><span class="str">HEIGHT="100"\</span></p></li><li class="L9"><p></p></li><li class="L0"><p><span class="str">PLAY="true"\</span></p></li><li class="L1"><p></p></li><li class="L2"><p><span class="str">LOOP="false"\</span></p></li><li class="L3"><p></p></li><li class="L4"><p><span class="str">QUALITY="high"\</span></p></li><li class="L5"><p></p></li><li class="L6"><p><span class="str">SCALE="SHOWALL"\</span></p></li><li class="L7"><p></p></li><li class="L8"><p><span class="str">swLiveConnect="true"\</span></p></li><li class="L9"><p></p></li><li class="L0"><p><span class="str">PLUGINSPAGE="http://www.macromedia.com/go/flashplayer/" style="height: 0; overflow: hidden"&gt;\</span></p></li><li class="L1"><p></p></li><li class="L2"><p><span class="str">&lt;/EMBED&gt;\</span></p></li><li class="L3"><p></p></li><li class="L4"><p><span class="str">&lt;/OBJECT&gt;'</span><span class="pun">);</span></p></li><li class="L5"><p><span class="pln">$</span><span class="pun">(</span><span class="str">'#levels'</span><span class="pun">).</span><span class="pln">prepend</span><span class="pun">(</span><span class="pln">$object</span><span class="pun">);</span></p></li><li class="L6"><p></p></li><li class="L7"><p><span class="pun">};</span></p></li><li class="L8"><p><span class="pln">$</span><span class="pun">(</span><span class="str">'#content'</span><span class="pun">).</span><span class="pln">on</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'.level-things tr.thing .column:nth-child(2) .text'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></p></li><li class="L9"><p></p></li><li class="L0"><p><span class="pln">$</span><span class="pun">(</span><span class="str">'&lt;script&gt;'</span><span class="pun">).</span><span class="pln">attr</span><span class="pun">(</span><span class="str">'src'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'http://localhost:3001/api/1/tts/?lang=jp&amp;callback=injectTTS&amp;text='</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> $</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">text</span><span class="pun">()).</span><span class="pln">appendTo</span><span class="pun">(</span><span class="str">'head'</span><span class="pun">);</span></p></li><li class="L1"><p></p></li><li class="L2"><p><span class="pun">});</span></p></li><li class="L3"><p><span class="pln">$</span><span class="pun">(</span><span class="str">'#content'</span><span class="pun">).</span><span class="pln">on</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'.level-things tr.thing .column:nth-child(3) .text'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></p></li><li class="L4"><p></p></li><li class="L5"><p><span class="pln">$</span><span class="pun">(</span><span class="str">'&lt;script&gt;'</span><span class="pun">).</span><span class="pln">attr</span><span class="pun">(</span><span class="str">'src'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'http://localhost:3001/api/1/tts/?lang=en&amp;callback=injectTTS&amp;text='</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> $</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">text</span><span class="pun">()).</span><span class="pln">appendTo</span><span class="pun">(</span><span class="str">'head'</span><span class="pun">);</span></p></li><li class="L6"><p></p></li><li class="L7"><p><span class="pun">});</span></p></li><li class="L8"><p><span class="pln">$</span><span class="pun">(</span><span class="str">'#content'</span><span class="pun">).</span><span class="pln">on</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'.level-things tr.thing td:first-child'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></p></li><li class="L9"><p></p></li><li class="L0"><p><span class="pln">$</span><span class="pun">(</span><span class="str">'&lt;script&gt;'</span><span class="pun">).</span><span class="pln">attr</span><span class="pun">(</span><span class="str">'src'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'http://localhost:3001/api/1/tts/?lang=jp&amp;callback=injectTTS&amp;text='</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> $</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="kwd">next</span><span class="pun">().</span><span class="pln">find</span><span class="pun">(</span><span class="str">'.text'</span><span class="pun">).</span><span class="pln">text</span><span class="pun">()).</span><span class="pln">appendTo</span><span class="pun">(</span><span class="str">'head'</span><span class="pun">);</span></p></li><li class="L1"><p></p></li><li class="L2"><p><span class="pun">});</span></p></li><li class="L3"><p></p></li></ol></pre>
        <p>&nbsp;</p>
        <p>Well, that’s it. I have more ideas in my head and I can add more professionalism to these solutions, but I’m not at the point it’s beneficial. Still, I want to hack and pan things out as I go along and get feedback or advice if I can. If you have any questions, feel free to shout out <a href="http://twitter.com/ericmuyser" target="_blank">@ericmuyser on Twitter</a>!</p>
        <p>&nbsp;</p>
        <p>Happy studying!</p>
    </div>
</div>
<ul class="pager">
    <li class="previous">
        <a href="/learn-japanese-through-pokemon-episode-1/" rel="prev" address="true">← Learn Japanese Through Pokemon – Episode 1</a> </li>
    <li class="next">
    </li>
</ul>
